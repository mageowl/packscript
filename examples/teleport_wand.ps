pack {
    name: Teleport Wand
    description: Testing for PackScript
}

namespace tele_wand {

    on mc:load load {
        trigger rightClick: minecraft.used:minecraft.carrot_on_a_stick
    }

    on mc:tick detect {
        as(@a[?rightClick, nbt={SelectedItem:{tag:{wand:1b}}}]), at(@s) {
            # Raycast
            raycast(mc:all) ray {
                /tp @s ~ ~ ~
            }
        }
    }
}

=================
* Folder Teleport Wand

* pack.mcmeta
{
    "pack": {
        "description": "Testing for PackScript"
    }
}

* File tele_wand:load
scoreboard objectives add rightClick minecraft.used:minecraft.carrot_on_a_stick

* File tele_wand:tick
execute as @a[scores={rightClick=1..}, nbt={SelectedItem:{tag:{wand:1b}}}] run function packscript:raycast/start/ray

* File packscript:raycast/start/ray
execute anchored eyes positioned ^ ^ ^1 run function packscript:raycast/cast/ray

* File packscript:raycast/cast/ray
execute unless block ~ ~ ~ air if entity @e[distance=0..0.8] run tp @s ~ ~ ~

execute if block ~ ~ ~ air unless entity @e[distance=0..0.8] anchored eyes positioned ^ ^ ^1 run function packscript:raycast/cast/ray

* File packscript:tick
scoreboard players set @a rightClick 0